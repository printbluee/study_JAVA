package array;

import java.util.ArrayList;
import java.util.Arrays;

public class Ex04 {
	public static void main(String[] args) throws CloneNotSupportedException {

		Person hong = new Person("홍길동", 25);
		Person park = new Person("박보검", 35);
		Person lee = new Person("이미자", 52);
		
		ArrayList<Person> arr = new ArrayList<Person>();
		
		arr.add(hong);
		arr.add(park);
		arr.add(lee);
		System.out.println("[array]       => " + arr);
		
		// [shallow copy : 얕은 복사]
		Object shallowCopy = arr.clone();
		System.out.println("[shallowCopy] => " + shallowCopy);
		
		// [deep    copy : 깊은 복사]
		// 정확하게 아직 구현은 안됨
//		Object[] deepCopy = arr.toArray();
		ArrayList<Person> deepCopy = new ArrayList<Person>();
        for(Person p: arr) {
            deepCopy.add(p.clone());
        }
		System.out.println("[deepCopy]    => " + deepCopy);
		
		// [array] 인덱스 홍길동 -> 해피
		arr.get(0).setName("해피");
		
		System.out.println("\n\n[arr] 홍길동 -> 해피 변경");
		for(Person p : arr) {
			System.out.println(p.getName());
		}
		
		// 같은 주소라 똑같이 나옴
		// 형변환 해주기
		System.out.println("\n[shallowCopy]"); 
		for(Person p : (ArrayList<Person>)shallowCopy) {
			System.out.println(p.getName());
		}
		
		System.out.println("\n[deepCopy]"); 
		for(Person p : deepCopy) {
			System.out.println(p.getName());
		}
		
		// [shallowCopy] 인덱스 0 : 인스턴스 변경 (새 인스턴스)
//		shallowCopy.set(0, new Person());
//		
//		System.out.println("\n\n[arr] 홍길동 -> 해피 변경");
//		for(Person p : arr) {
//			System.out.println(p.getName());
//		}
//		
//		// 형변환 해주기
//		System.out.println("\n[shallowCopy]"); 
//		for(Person p : (ArrayList<Person>)shallowCopy) {
//			System.out.println(p.getName());
//		}
	
		
	}
}
